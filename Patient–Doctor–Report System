Assignment Question 12 â€“ Patientâ€“Doctorâ€“Report System
ğŸ”´ ORIGINAL QUESTION (UNCHANGED)
Create the following using MVC:
Classes

Patient

PatientId

Name

Age

Doctor

DoctorId

Name

Specialization

Report

PatientId

DoctorId

BP

Sugar

Result

Logic / Processing

If BP > 140 OR Sugar > 140
â†’ Result = â€œAbnormalâ€

Else
â†’ Result = â€œNormalâ€

Output

Display:

Patient Name

Doctor Name

Diagnosis Result

1ï¸âƒ£ MVC REVISION (WRITE IN EXAM)

MVC = Model â€“ View â€“ Controller

Part	Responsibility
Model	Data & business logic
View	UI (HTML + Razor)
Controller	Handles input & connects Model & View

ğŸ“Œ MVC provides:

Separation of Concerns

Maintainability

Reusability

Testability

2ï¸âƒ£ Create MVC Project (STEP-BY-STEP)

Open Visual Studio

File â†’ New â†’ Project

Select ASP.NET Web Application (.NET Framework)

Project Name: PatientDoctorMVC

Framework: .NET Framework 4.8

Click OK

Select MVC

Click Create

ğŸ“Œ Default folders created:

Models

Views

Controllers

3ï¸âƒ£ Create MODEL Classes
ğŸ”¹ 3.1 Patient Model

ğŸ“ Models â†’ Add â†’ Class â†’ Patient.cs

using System.ComponentModel.DataAnnotations;

namespace PatientDoctorMVC.Models
{
    public class Patient
    {
        [Required]
        public int PatientId { get; set; }

        [Required]
        public string Name { get; set; }

        [Required]
        public int Age { get; set; }
    }
}

ğŸ”¹ 3.2 Doctor Model

ğŸ“ Models â†’ Add â†’ Class â†’ Doctor.cs

using System.ComponentModel.DataAnnotations;

namespace PatientDoctorMVC.Models
{
    public class Doctor
    {
        [Required]
        public int DoctorId { get; set; }

        [Required]
        public string Name { get; set; }

        [Required]
        public string Specialization { get; set; }
    }
}

ğŸ”¹ 3.3 Report Model

ğŸ“ Models â†’ Add â†’ Class â†’ Report.cs

using System.ComponentModel.DataAnnotations;

namespace PatientDoctorMVC.Models
{
    public class Report
    {
        public int PatientId { get; set; }
        public int DoctorId { get; set; }

        public int BP { get; set; }
        public int Sugar { get; set; }

        public string Result { get; set; }
    }
}

4ï¸âƒ£ Create VIEW MODEL (IMPORTANT)

ğŸ“ Models â†’ Add â†’ Class â†’ PatientReportVM.cs

namespace PatientDoctorMVC.Models
{
    public class PatientReportVM
    {
        public Patient Patient { get; set; }
        public Doctor Doctor { get; set; }
        public Report Report { get; set; }
    }
}


ğŸ“Œ Why ViewModel?
Because multiple classes are required in one View.

5ï¸âƒ£ Create CONTROLLER

ğŸ“ Controllers â†’ HomeController.cs

using System.Web.Mvc;
using PatientDoctorMVC.Models;

namespace PatientDoctorMVC.Controllers
{
    public class HomeController : Controller
    {
        // GET: Input page
        public ActionResult Index()
        {
            return View();
        }

        // POST: Form submission
        [HttpPost]
        public ActionResult Index(PatientReportVM vm)
        {
            // Validation check
            if (!ModelState.IsValid)
            {
                return View(vm);
            }

            // Diagnosis logic
            if (vm.Report.BP > 140 || vm.Report.Sugar > 140)
                vm.Report.Result = "Abnormal";
            else
                vm.Report.Result = "Normal";

            // Send data to Result view
            return View("Result", vm);
        }
    }
}


ğŸ“Œ Controller handles business logic
ğŸ“Œ View only displays output

6ï¸âƒ£ Create VIEW â€“ Input Page

ğŸ“ Views â†’ Home â†’ Index.cshtml

@model PatientDoctorMVC.Models.PatientReportVM

<h2>Patient Diagnosis Form</h2>

@using (Html.BeginForm())
{
    <h3>Patient Details</h3>

    <p>Patient ID: @Html.TextBoxFor(m => m.Patient.PatientId)</p>
    <p>Name: @Html.TextBoxFor(m => m.Patient.Name)</p>
    <p>Age: @Html.TextBoxFor(m => m.Patient.Age)</p>

    <h3>Doctor Details</h3>

    <p>Doctor ID: @Html.TextBoxFor(m => m.Doctor.DoctorId)</p>
    <p>Name: @Html.TextBoxFor(m => m.Doctor.Name)</p>
    <p>Specialization: @Html.TextBoxFor(m => m.Doctor.Specialization)</p>

    <h3>Health Readings</h3>

    <p>BP: @Html.TextBoxFor(m => m.Report.BP)</p>
    <p>Sugar: @Html.TextBoxFor(m => m.Report.Sugar)</p>

    <input type="submit" value="Check Diagnosis" />
}


ğŸ“Œ Html.BeginForm()

Creates <form>

Sends data to HomeController â†’ Index (POST)

7ï¸âƒ£ Create VIEW â€“ Result Page

ğŸ“ Views â†’ Home â†’ Result.cshtml

@model PatientDoctorMVC.Models.PatientReportVM

<h2>Diagnosis Report</h2>

<p><b>Patient Name:</b> @Model.Patient.Name</p>
<p><b>Doctor Name:</b> @Model.Doctor.Name</p>
<p><b>Specialization:</b> @Model.Doctor.Specialization</p>

<p><b>Diagnosis Result:</b> @Model.Report.Result</p>

8ï¸âƒ£ Data Flow (VERY IMPORTANT FOR VIVA)
User enters data
     â†“
Index.cshtml (View)
     â†“
HomeController Index (POST)
     â†“
Business Logic (BP / Sugar check)
     â†“
Result.cshtml (View)
